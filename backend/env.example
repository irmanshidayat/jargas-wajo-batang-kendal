# ============================================
# JARGAS APBN - Environment Variables Example
# ============================================
# Copy file ini ke .env dan sesuaikan nilai-nilainya
# Jangan commit file .env ke repository!
 
# Untuk Development XAMPP: DB_HOST=localhost, DB_PASSWORD bisa kosong
# Untuk Docker: DB_HOST=mysql, DB_PASSWORD=admin123
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=
DB_NAME=jargas_apbn

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Generate SECRET_KEY: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=n5TYLOYW-KO3hQfcNMBltRrPIwJS-lBQsMtDKFCFfJ4
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# APPLICATION CONFIGURATION
# ============================================
APP_NAME=Jargas APBN API
APP_VERSION=1.0.0
DEBUG=True

# ============================================
# SERVER CONFIGURATION
# ============================================
# Untuk Development: HOST=127.0.0.1
# Untuk Docker: HOST=0.0.0.0
HOST=127.0.0.1
PORT=8000

# ============================================
# CORS CONFIGURATION
# ============================================

# Format: comma-separated tanpa spasi
# Development: http://localhost:3000,http://localhost:5173
# Docker: http://localhost:8080
# Production: https://jargas.ptkiansantang.com
# Development Server: https://devjargas.ptkiansantang.com
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,https://jargas.ptkiansantang.com,https://devjargas.ptkiansantang.com

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
UPLOAD_DIR=uploads/evidence
MAX_FILE_SIZE=5242880
# Format: comma-separated tanpa spasi
ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,application/pdf

# ============================================
# DATABASE MIGRATION CONFIGURATION
# ============================================
# Auto-migrate saat aplikasi startup
# True = otomatis migrate saat backend start (RECOMMENDED untuk production)
# False = manual migration (gunakan: docker-compose exec backend alembic upgrade head)
# NOTE: Di docker-compose.yml, default sudah True untuk production
AUTO_MIGRATE=True
# Hanya migrate jika ada pending migration (True = recommended, lebih aman)
AUTO_MIGRATE_ONLY_IF_PENDING=True
# Migration Mode: "sequential" (default, recommended), "head" (fallback), "auto" (smart selection)
# sequential = upgrade satu per satu dengan validasi (paling aman)
# head = upgrade langsung ke head (fallback jika sequential gagal)
# auto = otomatis pilih mode terbaik
MIGRATION_MODE=sequential
# Validasi migration chain sebelum upgrade (True = recommended)
MIGRATION_VALIDATE_BEFORE_UPGRADE=True
# Stop migration jika ada error (True = recommended untuk safety)
MIGRATION_STOP_ON_ERROR=True

# ============================================
# DOCKER CONFIGURATION (Optional)
# ============================================
# Hanya untuk Docker Compose (di root project)
DB_PORT_MAPPED=3308
BACKEND_PORT_MAPPED=8001
FRONTEND_PORT_MAPPED=8080
TZ=Asia/Jakarta
ADMINER_PORT_MAPPED=8081